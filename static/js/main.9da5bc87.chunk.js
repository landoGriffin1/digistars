(this.webpackJsonpdigistars=this.webpackJsonpdigistars||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(6),l=a.n(c),o=(a(18),a(19),a(5)),i=(a(20),a(21),a(11)),s=a(9);var u=function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(0),d=Object(o.a)(u,2),m=d[0],p=d[1];Object(n.useEffect)((function(){}),[e]);var y=function(t,a){l(a),e.workLoad&&p(t)},h=function(e){for(var t=[],a=0;a<e;a++)t.push(r.a.createElement("li",{key:a},r.a.createElement(i.a,null)));return t};return r.a.createElement("div",{className:"team_selector"},r.a.createElement("h3",{className:"h6 header"},e.label),r.a.createElement("div",{className:"types"},e.team.map((function(t){return r.a.createElement("div",{className:"type",key:t.type},r.a.createElement("p",{className:"label"},r.a.createElement("strong",null,t.type),r.a.createElement("br",null),"Cost: ",t.cost," |",t.productivity?" Productivity: ".concat(t.productivity," units per day"):" Experience: ".concat(t.experience," years")),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"remove",onClick:function(){!function(t){if(0!=e.teamData.count[t.type]){var a=c-t.cost,n=m-t.productivity;y(n,a),e.removeMember(e.type,t,a)}}(t)}},r.a.createElement(s.a,null)),r.a.createElement("ul",null,h(e.teamData.count[t.type])),r.a.createElement("button",{className:"add",onClick:function(){!function(t){var a=c+t.cost,n=m+t.productivity;y(n,a),e.addMember(e.type,t,a)}(t)}},r.a.createElement(s.b,null))))})),r.a.createElement("br",null),r.a.createElement("h6",null,"Total Prod per day: ",m),r.a.createElement("h6",null,"Total Cost: ",c),r.a.createElement("h6",null,"Days to do work: ",e.teamData.days),r.a.createElement("br",null)))};a(22);var d=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(),s=Object(o.a)(i,2),u=s[0],d=s[1],m=function(t){var a=e.teams.find((function(e){return e.id===t}));return isFinite(a.days)?a.days/c*100+"%":0};return Object(n.useEffect)((function(){for(var t=0,a=0;a<e.teams.length;a++)t+=e.teams[a].days;d(t),t<e.projectLength&&(t=e.projectLength),l(t)}),[e]),r.a.createElement("div",{className:"times"},r.a.createElement("div",{className:"days"},function(){for(var t=100/c,a=[],n=0;n<c;n++)a.push(r.a.createElement("span",{key:n,style:{width:t+"%"},className:"".concat(n===e.currentDay&&n<u?"current":"")},n));return a.push(r.a.createElement("span",{key:"last",className:"last",style:{width:t+"%"}},c)),a}()),r.a.createElement("div",{className:"bars"},r.a.createElement("div",{className:"ux",style:{width:m("UX")}},r.a.createElement("span",{className:"label"},"UX")),r.a.createElement("div",{className:"vd",style:{width:m("VD")}},r.a.createElement("span",{className:"label"},"VD")),r.a.createElement("div",{className:"eng",style:{width:m("E")}},r.a.createElement("span",{className:"label"},"E"))))},m=a(8),p=a(3),y=function(e,t){var a;switch(t.type){case"updateTeamMember":return a=e.current.teams.map((function(e){return e.id===t.payload.team&&(e.count[t.payload.role]=e.count[t.payload.role]+t.payload.amnt,e.cost=t.payload.cost),e})),Object(p.a)({},e,{current:Object(p.a)({},e.current,{teams:a})});case"updateEstimate":var n=e.project.workLoad[t.payload.team]+t.payload.amnt;return n>=0?Object(p.a)({},e,{project:Object(p.a)({},e.project,{workLoad:Object(p.a)({},e.project.workLoad,Object(m.a)({},t.payload.team,n))})}):e;case"updateDays":return a=e.current.teams.map((function(a){if(a.id.toLowerCase()===t.payload.team.toLowerCase()){var n=e.project.workLoad[a.id.toLowerCase()],r=e.teams.find((function(e){return e.id===a.id})).teamProfile,c=0,l=!0,o=!1,i=void 0;try{for(var s,u=r[Symbol.iterator]();!(l=(s=u.next()).done);l=!0){var d=s.value,m=a.count[d.type];c+=d.productivity*m}}catch(y){o=!0,i=y}finally{try{l||null==u.return||u.return()}finally{if(o)throw i}}var p=0;c>0&&(p=Math.ceil(n/c)),a.days=p}return a})),Object(p.a)({},e,{current:Object(p.a)({},e.current,{teams:a})});case"setCurrentData":return Object(p.a)({},e,{current:Object(p.a)({},e.current,{totalDays:t.payload.totalDays,active:t.payload.goodToGo})});case"nextDay":return Object(p.a)({},e,{current:Object(p.a)({},e.current,{currentDay:t.payload.day})});case"setPhase":var r=JSON.parse(JSON.stringify(e.current.phases));r.map((function(e){return e.id===t.payload.team?e.active=!0:e.active=!1}));return Object(p.a)({},e,{current:Object(p.a)({},e.current,{currentDay:t.payload.currentDay,phases:r})});case"setInterupt":return Object(p.a)({},e,{current:Object(p.a)({},e.current,{interupt:t.payload.interupt})});case"setClientHappiness":var c=e.current.clientHappiness+t.payload.amnt;return Object(p.a)({},e,{current:Object(p.a)({},e.current,{clientHappiness:c})});case"setProjectLength":var l=e.project.length+t.payload.amnt;return Object(p.a)({},e,{project:Object(p.a)({},e.project,{length:l})});default:throw new Error}},h={teams:[{name:"Client Services",id:"CS",color:"#EEC0C6",teamProfile:[{type:"senior",cost:100,experience:7},{type:"junior",cost:50,experience:5}]},{name:"User Experience",id:"UX",color:"#FFF07C",teamProfile:[{type:"senior",cost:100,productivity:5},{type:"junior",cost:50,productivity:3}]},{name:"Visual Design",id:"VD",color:"#80FF72",teamProfile:[{type:"senior",cost:100,productivity:5},{type:"junior",cost:50,productivity:3}]},{name:"Engineering",id:"E",color:"#7EE8FA",teamProfile:[{type:"senior",cost:100,productivity:5},{type:"junior",cost:50,productivity:3}]}],project:{length:30,budget:1500,workLoad:{ux:80,vd:100,e:150},client:{happiness:100,fussiness:50}},current:{currentDay:null,totalDays:0,started:!1,clientHappiness:100,phases:[{id:"cs",active:!1,daysCompleted:0},{id:"ux",active:!1,daysCompleted:0},{id:"vd",active:!1,daysCompleted:0},{id:"e",active:!1,daysCompleted:0}],interupt:{},teams:[{name:"Client Services",id:"CS",count:{junior:0,senior:0},days:0,cost:0},{name:"User Experience",id:"UX",count:{junior:0,senior:0},days:0,cost:0},{name:"Visual Design",id:"VD",count:{junior:0,senior:0},days:0,cost:0},{name:"Engineering",id:"E",count:{junior:0,senior:0},days:0,cost:0}]}},E=a(7);a(23);var v=function(e){var t=e.heading,a=(e.onRequestClose,e.interupt);return r.a.createElement(E.a,{show:e.show,dialogClassName:"modal-90w",onHide:function(){return!1},centered:!0,"aria-labelledby":"example-custom-modal-styling-title"},r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Title,{id:"example-custom-modal-styling-title"},t)),r.a.createElement(E.a.Body,null,r.a.createElement("p",null,a&&a.copy)),r.a.createElement(E.a.Footer,null,function(){if(a&&a.btns)return a.btns.map((function(t){return r.a.createElement("button",{onClick:function(){e.processResult(t.result)}},t.label)}))}()))},f={ux:[{copy:"Client doesnt think the current user experience is right, the UX team think this will add 20 to the estimates.",btns:[{label:"Accept the change and increase the estimates",result:{type:"increaseEstimate",amnt:20,team:"ux"}},{label:"Accept the change, increase the estimates and tell the client you are increasing the project length",result:{type:"increaseEstimateAndPLength",amnt:20,projectLength:2,team:"ux"}},{label:"Go back to the client and tell them you are leaving the user experience as it is!",result:{type:"refuseClient"}}]}],vd:[{copy:"Client doesnt think the Homepage Design is right, the Visual design team think this will add 5 to the estimates.",btns:[{label:"Accept the change and increase the estimates",result:{type:"increaseEstimate",amnt:5,team:"vd"}},{label:"Accept the change, increase the estimates and tell the client you are increasing the project length",result:{type:"increaseEstimateAndPLength",amnt:5,projectLength:1,team:"vd"}},{label:"Go back to the client and tell them you are leaving the user experience as it is!",result:{type:"refuseClient"}}]}],e:[{copy:"You've discovered some extra complexity in the code that needs researching, the engineering team say it will add 10 to the estimates",btns:[{label:"Do the extra research",result:{type:"increaseEstimate",amnt:10,team:"e"}},{label:"Do the extra research but add extra time to the project",result:{type:"increaseEstimateAndPLength",amnt:10,projectLength:2,team:"e"}}]}]};function b(e){return e}var j=function(){var e=Object(n.useReducer)(y,h,b),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(99),i=Object(o.a)(l,2),s=i[0],m=i[1],p=Object(n.useState)(0),E=Object(o.a)(p,2),j=E[0],g=E[1],C=Object(n.useState)(!1),w=Object(o.a)(C,2),D=w[0],k=w[1],O=Object(n.useState)(""),N=Object(o.a)(O,2),x=(N[0],N[1],function(e,t,a){s-1<0||(c({type:"updateTeamMember",payload:{team:e,role:t.type,amnt:1,cost:a}}),c({type:"updateDays",payload:{team:e}}),P(-1),S("add",t.cost))}),L=function(e,t,a){c({type:"updateTeamMember",payload:{team:e,role:t.type,amnt:-1,cost:a}}),c({type:"updateDays",payload:{team:e}}),P(1),S("delete",t.cost)},P=function(e){var t=s+e;t>=0&&t<=99&&m(t)},S=function(e,t){var a=j;"add"===e&&(a+=t),"delete"===e&&(a-=t),g(a)},T=function(e){var t=0,n=!0,r=!1,l=void 0;try{for(var o,i=a.current.teams[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;if(0!=s.days&&e<(t+=s.days)){c({type:"setPhase",payload:{team:s.id.toLowerCase(),currentDay:e}});break}}}catch(u){r=!0,l=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}},M=function(){var e=0,t=!0,n=!0,r=!1,c=void 0;try{for(var l,o=a.current.teams[Symbol.iterator]();!(n=(l=o.next()).done);n=!0){var i=l.value;"cs"!==i.id.toLowerCase()&&(e+=i.days,0===i.days&&(t=!1))}}catch(u){r=!0,c=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}var s=!1;return e<=a.project.length&&t&&(s=!0),{goodToGo:s,totalDays:e,hasTime:t}},A=function(){var e=a.project.client.fussiness/5;return Math.floor(100*Math.random())<=e},H=function(){var e=a.current.phases.find((function(e){return!0===e.active})).id,t=F(e);c({type:"setInterupt",payload:{interupt:t}}),k(!0)},F=function(e){return f[e][Math.floor(Math.random()*f[e].length)]},U=function(e,t){c({type:"updateEstimate",payload:{team:e,amnt:t}}),c({type:"updateDays",payload:{team:e}}),setTimeout((function(){var e=M();c({type:"setCurrentData",payload:e})}),1)},V=function(){k(!1)},R=function(e){c({type:"setClientHappiness",payload:{amnt:e}})},B=function(){alert("gameover")};return r.a.createElement("div",{className:"game "},r.a.createElement("h1",null,"Total Project Management"),r.a.createElement("div",{className:"work section"},r.a.createElement("h2",null,"Research the project"),r.a.createElement("div",{className:"work-item"},r.a.createElement("h3",null,"Project "),r.a.createElement("dl",null,r.a.createElement("dt",null,"Client"),r.a.createElement("dd",null,"Imaginary Inc."),r.a.createElement("dt",null,"Project length"),r.a.createElement("dd",null,a.project.length," days"),r.a.createElement("dt",null,"Budget"),r.a.createElement("dd",null,a.project.budget),r.a.createElement("dt",null,"Client Fussiness"),r.a.createElement("dd",null,a.project.client.fussiness))),r.a.createElement("div",{className:"work-item"},r.a.createElement("h3",null,"Estimates"),r.a.createElement("dl",null,r.a.createElement("dt",null,"User Experience"),r.a.createElement("dd",null,a.project.workLoad.ux),r.a.createElement("dt",null,"Visual Design"),r.a.createElement("dd",null,a.project.workLoad.vd),r.a.createElement("dt",null,"Engineering"),r.a.createElement("dd",null,a.project.workLoad.e)))),r.a.createElement("div",{className:"people section"},r.a.createElement("h2",null,"Choose your starting team"),r.a.createElement("div",{className:"teams"},a.teams.map((function(e){var t=a.project.workLoad[e.id.toLowerCase()],n=a.current.teams.find((function(t){return t.id===e.id}));return r.a.createElement("div",{className:"team",key:e.id,style:{background:e.color}},r.a.createElement(u,{label:e.name,type:e.id,team:e.teamProfile,teamData:n,addMember:x,removeMember:L,workLoad:t}))}))),r.a.createElement("br",null),r.a.createElement("h3",null,"Budget: ",a.project.budget," | Cost: ",j," | Profit:",Math.floor(100-j/a.project.budget*100),"%")),r.a.createElement("div",{className:"timeline section"},r.a.createElement("h2",null,"Timeline"),r.a.createElement(d,{projectLength:a.project.length,teams:a.current.teams,currentDay:a.current.currentDay})),r.a.createElement("div",{className:"debug section"},r.a.createElement("h2",null,"Debug"),a.current.phases.map((function(e){return r.a.createElement("dl",{key:e.id},r.a.createElement("dt",null,r.a.createElement("h3",null,e.id)),r.a.createElement("dt",null,"Active"),r.a.createElement("dd",null,e.active?"true":"false"),r.a.createElement("dt",null,"Days completed"),r.a.createElement("dd",null,e.daysCompleted," "),r.a.createElement("dd",null,r.a.createElement("button",{onClick:function(){U(e.id,10)}},"Estimate +10")),r.a.createElement("dd",null,r.a.createElement("button",{onClick:function(){U(e.id,-10)}},"Estimate -10")))})),r.a.createElement("dl",null,r.a.createElement("dt",null,r.a.createElement("h3",null,"Stats")),r.a.createElement("dt",null,"Active"),r.a.createElement("dd",null,a.current.active?"true":"false"),r.a.createElement("dt",null,"Current Time"),r.a.createElement("dd",null,"End of day ",a.current.currentDay),r.a.createElement("dt",null,"Total days"),r.a.createElement("dd",null,a.current.totalDays),r.a.createElement("dt",null,"Client happiness"),r.a.createElement("dd",null,a.current.clientHappiness))),r.a.createElement("div",{className:"start"},r.a.createElement("button",{onClick:function(){if(!a.current.active){var e=M();c({type:"setCurrentData",payload:e});var t=null!==a.current.currentDay?a.current.currentDay:0;T(t),e.hasTime||alert("make sure you have at least one person in each team!"),e.totalDays>a.project.length&&alert("Project is going to overrun - please update staff to fix this!")}}},"Start"),r.a.createElement("button",{onClick:function(){if(a.current.active){var e=a.current.currentDay+1;T(e),c({type:"nextDay",payload:{day:e}}),A()&&H(),e===a.current.totalDays&&alert("congratulations - you have delivered the project on time")}else alert("make sure the project isnt due to overrun")}},"Next day")),r.a.createElement(v,{show:D,heading:"Decision time...",interupt:a.current.interupt,onRequestClose:V,processResult:function(e){var t,n=a.current.teams.find((function(e){return e.id="CS"})).count,r=(7*n.senior+5*n.junior)/25*50+a.current.clientHappiness/2;if(console.log("client score is:"+r),"increaseEstimate"===e.type)U(e.team,e.amnt),V();else if("increaseEstimateAndPLength"===e.type){var l="";r>20?(l="Client accepts increase but is slightly unhappy with increase in project length",R(-20),t=e.projectLength,c({type:"setProjectLength",payload:{amnt:t}}),U(e.team,e.amnt)):(l="This isnt good enough, the project is cancelled!",B()),alert(l),V(),V()}else if("refuseClient"==e.type){var o="Client is sick of the team, the project is cancelled!";r>80?(o="Client accepts refusal but is slightly unhappy",R(-20)):r>50?(o="Client accepts refusal but is a bit more unhappy",R(-20)):r>30?(o="Client accepts refusal but is very unhappy",R(-50)):(o="This isnt good enough, the project is cancelled!",B()),alert(o),V()}}}))};a(26);var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.9da5bc87.chunk.js.map